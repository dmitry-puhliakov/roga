const paymentImgURL={mastercard:"img/master-card-img.png",visa:"img/visa-img.png"},body=document.querySelector("body"),openPaymentButtons=document.querySelectorAll("[data-payment-type]"),paymentModal=document.querySelector("#payment"),paymentImg=document.querySelector(".payment__img"),closeModalButtons=document.querySelectorAll(".modal__close"),overlay=document.getElementById("overlay");function openModal(e){null!=e&&(body.style.overflowY="hidden",e.classList.add("active"),overlay.classList.add("active"))}function closeModal(e){null!=e&&(e===paymentModal&&(paymentImg.removeAttribute("src"),paymentImg.removeAttribute("alt")),body.removeAttribute("style"),e.classList.remove("active"),overlay.classList.remove("active"))}openPaymentButtons.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const a=document.getElementById("payment"),r=e.dataset.paymentType;paymentImg.setAttribute("src",paymentImgURL[r]),paymentImg.setAttribute("alt",r),openModal(a)}))})),overlay.addEventListener("click",(()=>{document.querySelectorAll(".modal.active").forEach((e=>{closeModal(e)}))})),closeModalButtons.forEach((e=>{e.addEventListener("click",(()=>{closeModal(e.closest(".modal"))}))}));const form=document.querySelector(".payment__form"),textFields=Array.from(document.querySelectorAll(".text-field__input")),userName=document.querySelector("#user-name"),userLastName=document.querySelector("#user-lastname"),cardNumber=document.querySelector("#card-number");function setErrStyle(e){e.classList.add("text-field__input--err")}function setUnErrStyle(e){e.classList.remove("text-field__input--err")}textFields.forEach((e=>{e.addEventListener("input",(()=>{setUnErrStyle(e)}))})),form.addEventListener("submit",(e=>{e.preventDefault();let t=!0;/^[A-Za-z0-9_А-Яа-я]+$/.test(userName.value)||(t=!1,setErrStyle(userName)),/^[A-Za-z0-9_А-Яа-я]+$/.test(userLastName.value)||(t=!1,setErrStyle(userLastName)),/^[0-9]+$/.test(cardNumber.value)&&16===cardNumber.value.length||(t=!1,setErrStyle(cardNumber)),t&&(textFields.forEach((e=>{e.value=""})),closeModal(paymentModal),alert("Your data submitted successfully!"))}));